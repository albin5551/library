<app-navbar-admin></app-navbar-admin>
<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.2.1/angular-material.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
  <!-- <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css"> -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular-animate.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular-aria.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular-messages.min.js"></script>

  <!-- Angular Material Javascript now available via Google CDN; version 1.2.1 used here -->
  <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.2.1/angular-material.min.js"></script>
</head>

<body style="display: flex; align-items: center; justify-content: center;">
  <div class="col-md-8" >
    <div class="col-md-12 mb-3" style="display: inline-flex; padding: 0px;">
      <div class="col-md-6"
        style="display: inline-flex; border: 1px solid rgb(197, 197, 197); border-radius: 4px; padding: 0px; padding-left: 3px;">
        <input type="file" id="myFile" (change)="selectFile($event)" style="margin-top: 3px;">
        <button class=" btn-success btn-sm" style="margin-left: 35px; height: 36px;width: 100px;border: none;"
          [disabled]="!selectedFiles" (click)="upload()">
          Upload file
        </button>
      </div>
      <div class="col-md-6">
        <form [formGroup]="search" style="display: inline-flex;">
          <input type="text" class="form-control" formControlName="inp" placeholder="Search"
            aria-label="Recipient's username" aria-describedby="basic-addon2" (ngModelChange)="ser()" >
          <div class="input-group-append">
            <button class="input-group-text button_" id="basic-addon2" (click)="ser()">search</button>
          </div>
        </form>
      </div>

    </div>
    <table class=" col-md-12" style="text-align: left;width: 100%;">
      <tr class="tbl_tr tbl_hd">
        <th class="tbl_tr tbl_hd" (click)="sortfn('book_name')">BookName<svg *ngIf="f===1"
            xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
            class="bi bi-caret-down-fill tbl_tr_" viewBox="0 0 16 16">
            <path
              d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z" />
          </svg></th>
          <th class="tbl_tr tbl_hd" (click)="sortfn('book_name')">Category</th>
        <th class="tbl_tr tbl_hd" (click)="sortfn('stock')">Stock<svg *ngIf="f===2" xmlns="http://www.w3.org/2000/svg"
            width="16" height="16" fill="currentColor" class="bi bi-caret-down-fill tbl_tr_" viewBox="0 0 16 16">
            <path
              d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z" />
          </svg></th>
          <th class="tbl_tr tbl_hd">Category</th>
        <th class="tbl_tr tbl_hd">Action</th>

      </tr>
      <tr class="tbl_tr tbl_hd" *ngFor="let book of data | paginate 
      : {
          itemsPerPage: tableSize,
          currentPage: page,
          totalItems: count
        };">
        <td class="tbl_tr tbl_hd">{{book.bookName}}</td>
        <td class="tbl_tr tbl_hd">{{book.category.categoryName}}</td>
        <td class="tbl_tr tbl_hd">{{book.stock}}</td>
        <!-- <td class="tbl_tr tbl_hd"><img src="../../../assets/item_pics/{{book.image}}" style="width: 100px; height: 100px;" ></td> -->


        <td style="display: flex; align-items: center; justify-content: center; padding-top: 10px;">
          <button data-bs-toggle="modal" data-bs-target="#exampleModal" type="submit" class="btn btn-warning"
            [routerLink]="['/bookdview',book.bookId]">View</button>&nbsp;
          <button type="submit" class="btn btn-primary" [routerLink]="['/editbook',book.bookId]">Edit</button>&nbsp;
          <button type="submit" class="btn btn-danger" (click)="del(book.bookId)">Delete</button>
        </td>
      </tr>
    </table>
    <div class="col-md-12 but mt-2">
      <!-- <td *ngFor="let book of bookDetail;let i=index;">
        <tr class="center" *ngIf="i%5==0;" class="page-item"><button (click)="paginate(i/5,5,sortBy)"> {{i/5+1}}
          </button> &nbsp;</tr>
      </td> -->

      <div class="d-flex justify-content-center">
        <pagination-controls (pageChange)="onTableDataChange(page=$event)">
        </pagination-controls>
      </div>
    </div>
  </div>

  <div ></div>
</body>

</html>